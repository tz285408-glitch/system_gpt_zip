<!DOCTYPE html>
<html lang="ar">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</title><link rel="stylesheet" href="css/style.css"></head>
<body>
<div class="logo card"><img src="assets/logo.png" onerror="this.src='https://via.placeholder.com/48'"><span>ğŸª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</span></div>
<div class="app">
  <div class="sidebar card"><a href="index.html">â—€ Ø±Ø¬ÙˆØ¹</a></div>
  <div class="main">
    <div class="card">
      <h3>Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯</h3>
      <input id="sp_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯">
      <input id="sp_phone" placeholder="Ø§Ù„Ù‡Ø§ØªÙ">
      <input id="sp_addr" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
      <button onclick="doAddSupplier()">Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯</button>
    </div>
    <div class="card">
      <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h3>
      <table id="supTable"><thead><tr><th>#</th><th>Ø±Ù‚Ù…</th><th>Ø§Ø³Ù…</th><th>Ù‡Ø§ØªÙ</th><th>Ø¹Ù†ÙˆØ§Ù†</th><th>ØªØ­ÙƒÙ…</th></tr></thead><tbody></tbody></table>
    </div>
  </div>
</div>

<script src="js/firebase-config.js"></script>
<script src="js/app.js"></script>
<script>
function renderSuppliers(){
  const tbody=document.querySelector('#supTable tbody'); tbody.innerHTML=''; const arr=DB.getSuppliers();
  arr.forEach((s,i)=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${i+1}</td><td>${s.id}</td><td>${s.name}</td><td>${s.phone||''}</td><td>${s.address||''}</td>
    <td><button onclick="editSupplier(${s.id})">ØªØ¹Ø¯ÙŠÙ„</button> <button onclick="removeSupplier(${s.id})">Ø­Ø°Ù</button></td>`; tbody.appendChild(tr);});
}
function doAddSupplier(){ const name=document.getElementById('sp_name').value.trim(); const phone=document.getElementById('sp_phone').value.trim(); const addr=document.getElementById('sp_addr').value.trim(); if(!name) return alert('Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨'); App.addSupplierApp(name,phone,addr); document.getElementById('sp_name').value='';document.getElementById('sp_phone').value='';document.getElementById('sp_addr').value=''; renderSuppliers(); App.populateAllSelects();}
function editSupplier(id){ const arr=DB.getSuppliers(); const s=arr.find(x=>x.id==id); if(!s) return; const name=prompt('Ø§Ù„Ø§Ø³Ù…',s.name); if(name===null) return; const phone=prompt('Ø§Ù„Ù‡Ø§ØªÙ',s.phone||''); const addr=prompt('Ø§Ù„Ø¹Ù†ÙˆØ§Ù†',s.address||''); App.updateSupplierApp(id,{name,phone,address:addr}); renderSuppliers(); }
function removeSupplier(id){ if(!confirm('Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ±Ø¯ØŸ')) return; App.deleteSupplierApp(id); renderSuppliers(); App.populateAllSelects(); }
initApp().then(renderSuppliers);
</script>
</body>
</html>
