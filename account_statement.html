<!DOCTYPE html>
<html lang="ar">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨</title><link rel="stylesheet" href="css/style.css"></head>
<body>
<div class="logo card"><img src="assets/logo.png" onerror="this.src='https://via.placeholder.com/48'"><span>ğŸ“‚ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨</span></div>
<div class="app">
  <div class="sidebar card"><a href="index.html">â—€ Ø±Ø¬ÙˆØ¹</a></div>
  <div class="main">
    <div class="card">
      <h3>ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ù„ÙƒÙ„ Ø­Ø³Ø§Ø¨</h3>
      <select id="accSelect"></select>
      <button onclick="renderAccountDetails()">Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ´Ù</button>
      <table id="accTable"><thead><tr><th>#</th><th>Ø§Ù„Ø­Ø³Ø§Ø¨</th><th>Ù„Ù‡</th><th>Ø¹Ù„ÙŠÙ‡</th><th>Ø§Ù„Ø±ØµÙŠØ¯</th></tr></thead><tbody></tbody></table>
    </div>
  </div>
</div>

<script src="js/firebase-config.js"></script>
<script src="js/app.js"></script>
<script>
function populateAccSelect(){
  const sel=document.getElementById('accSelect'); sel.innerHTML='';
  const accs = Object.keys(App.computeAccountStatement());
  accs.forEach(a=>{ const o=document.createElement('option'); o.value=a; o.text=a; sel.appendChild(o);});
}
function renderAccountDetails(){
  const key=document.getElementById('accSelect').value; const acc=App.computeAccountStatement()[key];
  const tbody=document.querySelector('#accTable tbody'); tbody.innerHTML='';
  if(!acc) return alert('Ù„Ø§ Ø­Ø³Ø§Ø¨');
  const tr=document.createElement('tr'); tr.innerHTML=`<td>1</td><td>${key}</td><td>${acc.debit.toFixed(2)}</td><td>${acc.credit.toFixed(2)}</td><td>${acc.balance.toFixed(2)} ${acc.status}</td>`;
  tbody.appendChild(tr);
}
initApp().then(()=>{ populateAccSelect(); });
</script>
</body>
</html>
